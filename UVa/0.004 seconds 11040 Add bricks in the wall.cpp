#include <stdio.h>

int main()
{
	int a[9][9], nt, it;	
	scanf("%d", &nt);
	for (it=0; it<nt; it++)
	{
		scanf("%d%d%d%d%d%d%d%d%d%d%d%d%d%d%d",
			&a[0][0], &a[2][0], &a[2][2], &a[4][0], 
			&a[4][2], &a[4][4], &a[6][0], &a[6][2],
			&a[6][4], &a[6][6], &a[8][0], &a[8][2], 
			&a[8][4], &a[8][6], &a[8][8]);
		a[2][1] = (a[0][0]-a[2][0]-a[2][2])>>1;
		a[1][0] = a[2][0]+a[2][1];
		a[1][1] = a[2][1]+a[2][2];
		a[4][1] = (a[2][0]-a[4][0]-a[4][2])>>1;
		a[3][0] = a[4][0]+a[4][1];
		a[3][1] = a[4][1]+a[4][2];
		a[6][1] = (a[4][0]-a[6][0]-a[6][2])>>1;
		a[5][0] = a[6][0]+a[6][1];
		a[5][1] = a[6][1]+a[6][2];
		a[8][1] = (a[6][0]-a[8][0]-a[8][2])>>1;
		a[7][0] = a[8][0]+a[8][1];
		a[7][1] = a[8][1]+a[8][2];
		a[4][3] = (a[2][2]-a[4][2]-a[4][4])>>1;
		a[3][2] = a[4][2]+a[4][3];
		a[3][3] = a[4][3]+a[4][4];
		a[6][3] = (a[4][2]-a[6][2]-a[6][4])>>1;
		a[5][2] = a[6][2]+a[6][3];
		a[5][3] = a[6][3]+a[6][4];
		a[8][3] = (a[6][2]-a[8][2]-a[8][4])>>1;
		a[7][2] = a[8][2]+a[8][3];
		a[7][3] = a[8][3]+a[8][4];
		a[6][5] = (a[4][4]-a[6][4]-a[6][6])>>1;
		a[5][4] = a[6][4]+a[6][5];
		a[5][5] = a[6][5]+a[6][6];
		a[8][5] = (a[6][4]-a[8][4]-a[8][6])>>1;
		a[7][4] = a[8][4]+a[8][5];
		a[7][5] = a[8][5]+a[8][6];
		a[8][7] = (a[6][6]-a[8][6]-a[8][8])>>1;
		a[7][6] = a[8][6]+a[8][7];
		a[7][7] = a[8][7]+a[8][8];
		printf("%d\n%d %d\n%d %d %d\n%d %d %d %d\n%d %d %d %d %d\n%d %d %d %d %d %d\n%d %d %d %d %d %d %d\n%d %d %d %d %d %d %d %d\n%d %d %d %d %d %d %d %d %d\n",
			a[0][0],
			a[1][0], a[1][1],
			a[2][0], a[2][1], a[2][2],
			a[3][0], a[3][1], a[3][2], a[3][3],
            a[4][0], a[4][1], a[4][2], a[4][3], a[4][4],
			a[5][0], a[5][1], a[5][2], a[5][3], a[5][4], a[5][5],
			a[6][0], a[6][1], a[6][2], a[6][3], a[6][4], a[6][5], a[6][6],
			a[7][0], a[7][1], a[7][2], a[7][3], a[7][4], a[7][5], a[7][6], a[7][7],
			a[8][0], a[8][1], a[8][2], a[8][3], a[8][4], a[8][5], a[8][6], a[8][7], a[8][8]
			);		
	}
	return 0;
}